# 先看一下基于预测的自适应索引
以大型数据库上的分析查询工作负载为特征的探索性数据分析现在在学术界和工业界都已司空见惯。 在这些情况下，数据产生速度以及未知的和漂移的访问模式使访问方法的选择成为一项艰巨的任务。 在这种情况下，自适应索引技术提出了使用部分索引的方法，该部分索引是响应于实际查询序列而逐步构建的，并且作为查询处理的副产品，仅优化对感兴趣的关键范围的访问。 这项工作通过利用最近的查询历史来预测下一个关键字范围并预先对其进行索引，从而对该原理进行了进一步的开发，因此，由于必须将数据加载到存储层次结构中，因此，在不久的将来到达的查询将以其最终表示形式和更高的存储层次查找数据。 主存储器以便被索引。 自适应合并用作数据结构的基础体系结构，并且合并操作与查询执行并行执行，而不是相同的操作。 极限学习机用于执行关键范围预测并通过索引线程进行连续训练。 实验显示，与自适应合并相比，在1000个查询中，查询响应时间最多降低38％，因此，在扫描执行过程中，总响应时间和索引操作的解耦时间缩短了。

**自适应索引的介绍** 通过使DBMS内部结构顺兴当前趋势快速回答查询，使得系统能够根据动态的工作负载更好的执行。基本思想是，在每次扫描数据以回答用户的查询时，都会执行一个增量步骤以提供索引结构或对索引结构进行优化，这将使后续的扫描修剪搜索空间并提高性能。

改变数据库的物理布局以相应工作负载。仅针对访问感兴趣的部分进行优化基于以下事实：记录的一部分比其他部分都更多的访问。（部分索引 通过索引关系中的子集进行布局调整，但缺少自适应的行为和增量改变的可能性）

另外就是自适应索引的缺点了(自适应索引大体上还是由查询驱动的，也就是单个查询过来了，就依靠这个查询对所应的段进行crack，但是有可能是这个段偏离了基础的工作负载模式)——这里要做的就是找出来要索引的最佳关键字范围，使得下一个查询能够从结构中充分受益。类似于模式识别任务中的过拟合和泛化。

另外就是在计算资源未被充分利用时

如果预测成功，并且在查询之前就把要查询的那部分放在了最终索引形式中，执行与查询处理分离的增量索引的好处就出现了。如果预测错误，那么查询的成本就是之前的分区B+树——但就算预测错误，也不会像自适应索引方案中那么昂贵，因为扫描不需要移动数据，只是查找满足查询的记录。


注意这篇MetisIDX并不是要建立一个完全索引，所以也不会考虑收敛性的问题。并且这个模型依赖于先验的查询来构建模型，才能进行预测。